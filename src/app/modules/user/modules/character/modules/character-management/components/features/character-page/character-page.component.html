<ng-container *ngIf="foundCharacter">
<p-toast />
<div
  class="character-description"
  [ngStyle]="{
    'background-image':
      'linear-gradient(rgba(11, 32, 47, 0.9), rgba(11, 32, 47, 0.7)), ' +
      'url(' +
      foundCharacter.avatar +
      ')'
  }"
>
  <app-return-button></app-return-button>
  <app-page-header
    [elementIcon]="'assets/images/character-icon.svg'"
    [title]="foundCharacter.name"
  ></app-page-header>
  <app-character-presentation
    [character]="foundCharacter"
    (isCharachterSheetVisible)="toggleCharacterSheetVisible($event)"
  ></app-character-presentation>
</div>

<ng-container *ngIf="foundCharacter.gameTable as gameTable; else noTable">
  <app-custom-area-title
    [title]="'Table reliÃ©e :\n' + gameTable.name"
    (click)="linkToCharacterTable(gameTable.id)"
  ></app-custom-area-title>
</ng-container>
<ng-template #noTable>
  <app-custom-area-title title="Aucune table"></app-custom-area-title>
</ng-template>
<ng-container *ngIf="chatList$ | async as chatList">
  <p-accordion [activeIndex]="">
    <p-accordionTab header="Discussions">
      <app-list-of-element
        [baseUrl]="''"
        [elementIcon]="'assets/images/discussion-icon.svg'"
        [elementList]="chatList"
      ></app-list-of-element>
      <app-custom-add-button></app-custom-add-button>
    </p-accordionTab>
  </p-accordion>
</ng-container>
<footer class="page-footer">
  <app-custom-button
    [style]="'gold'"
    [name]="'Joue\n ce personnage'"
    (click)="selectCharacterToPlay()"
  ></app-custom-button>
</footer>
@if (isCharacterSheetVisible) {
<app-character-sheet-display

  (isCharacterSheetVisible)="toggleCharacterSheetVisible($event)"
></app-character-sheet-display>
}
</ng-container>
